// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∞–π—Ç–∞
const SITE_CONFIG = {
    phone: '+7 (917) 109-70-72',
    email: 'info@hithaus.ru',
    workingHours: '–ï–∂–µ–¥–Ω–µ–≤–Ω–æ 9:00-21:00',
    address: '–≥. –°–∞–º–∞—Ä–∞, —É–ª. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏, 278',
    social: {
        vk: '#',
        instagram: '#',
        youtube: '#',
        whatsapp: 'https://wa.me/79171097072'
    }
};

// –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∞–π—Ç–∞
const SITE_DATA = {
    site: {
        title: 'HitHaus',
        tagline: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –±–∞–Ω—å –∏–∑ –±—Ä—É—Å–∞ –ø–æ–¥ –∫–ª—é—á –≤ –°–∞–º–∞—Ä–µ',
        phone: SITE_CONFIG.phone,
        email: SITE_CONFIG.email
    },
    
    projects: {
        title: '–ù–∞—à–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã',
        subtitle: '–ë–æ–ª–µ–µ 500 –±–∞–Ω—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –≤ –°–∞–º–∞—Ä–µ –∏ –æ–±–ª–∞—Å—Ç–∏',
        items: [
            {
                id: 1,
                title: '–ë–∞–Ω—è 3√ó3 –º –≤ –°–ù–¢ –í–æ–¥–∏–Ω–æ',
                description: '–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –±–∞–Ω—è –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–π —Å–µ–º—å–∏. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—Ä—É—Å 140√ó140 –º–º, –ø–µ—á—å Harvia, —Ç–µ—Ä—Ä–∞—Å–∞.',
                features: ['3√ó3 –º', '–ë—Ä—É—Å 140√ó140 –º–º', '–ü–µ—á—å Harvia', '–¢–µ—Ä—Ä–∞—Å–∞']
            },
            {
                id: 2,
                title: '–ë–∞–Ω—è 4√ó4 –º –Ω–∞ –ú–µ—Ö–∑–∞–≤–æ–¥–µ',
                description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –±–∞–Ω—è —Å –∫–æ–º–Ω–∞—Ç–æ–π –æ—Ç–¥—ã—Ö–∞. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—Ä—É—Å 190√ó140 –º–º, —Å—Ç–µ–∫–ª—è–Ω–Ω–∞—è –¥–≤–µ—Ä—å –≤ –ø–∞—Ä–Ω—É—é.',
                features: ['4√ó4 –º', '–ë—Ä—É—Å 190√ó140 –º–º', '–ö–æ–º–Ω–∞—Ç–∞ –æ—Ç–¥—ã—Ö–∞', '–°—Ç–µ–∫–ª—è–Ω–Ω–∞—è –¥–≤–µ—Ä—å']
            },
            {
                id: 3,
                title: '–ë–∞–Ω—è 5√ó4 –º –≤ –í–æ–¥–∏–Ω—Å–∫–æ–º –º–∞—Å—Å–∏–≤–µ',
                description: '–ü—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è –±–∞–Ω—è —Å –º–∞–Ω—Å–∞—Ä–¥–æ–π. –î–≤—É—Ö—ç—Ç–∞–∂–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –±–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞, —Ñ–∏–Ω—Å–∫–∞—è –ø–µ—á—å Tylo.',
                features: ['5√ó4 –º', '–ú–∞–Ω—Å–∞—Ä–¥–∞', '–§–∏–Ω—Å–∫–∞—è –ø–µ—á—å', '–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∞—Å–∞']
            },
            {
                id: 4,
                title: '–ë–∞–Ω—è 6√ó4 –º –≤ –°–ù–¢ –ë–µ–ª–æ–∑–µ—Ä–∫–∏',
                description: '–≠–ª–∏—Ç–Ω–∞—è –±–∞–Ω—è —Å –±–∞—Å—Å–µ–π–Ω–æ–º. –ü–æ–ª–Ω–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–ª—é—á, —Å–∏—Å—Ç–µ–º–∞ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏, –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ—Ç–µ–ª—å–Ω–∞—è.',
                features: ['6√ó4 –º', '–ë–∞—Å—Å–µ–π–Ω', '–°–∏—Å—Ç–µ–º–∞ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏', '–ö–æ—Ç–µ–ª—å–Ω–∞—è']
            }
        ]
    },
    
    prices: {
        turnkey: {
            title: '–¶–µ–Ω—ã –Ω–∞ –±–∞–Ω–∏ –ø–æ–¥ –∫–ª—é—á',
            note: '–í—Å–µ —Ü–µ–Ω—ã –≤–∫–ª—é—á–∞—é—Ç –¥–æ—Å—Ç–∞–≤–∫—É, —Å–±–æ—Ä–∫—É –∏ –ø–æ–ª–Ω—É—é –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—é',
            sizes: ['3√ó3 –º', '4√ó3 –º', '4√ó4 –º', '5√ó4 –º', '6√ó4 –º', '6√ó6 –º'],
            materials: [
                {
                    name: '–ë—Ä—É—Å 90√ó140 –º–º (–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–º–µ—Ä–Ω–æ–π —Å—É—à–∫–∏)',
                    prices: ['249 000‚ÇΩ', '432 000‚ÇΩ', '525 000‚ÇΩ', '639 000‚ÇΩ', '847 000‚ÇΩ', '1 050 000‚ÇΩ']
                },
                {
                    name: '–ë—Ä—É—Å 140√ó140 –º–º (–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–º–µ—Ä–Ω–æ–π —Å—É—à–∫–∏)',
                    prices: ['324 000‚ÇΩ', '524 000‚ÇΩ', '624 000‚ÇΩ', '750 000‚ÇΩ', '998 000‚ÇΩ', '1 250 000‚ÇΩ']
                },
                {
                    name: '–ë—Ä—É—Å 190√ó140 –º–º (–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–º–µ—Ä–Ω–æ–π —Å—É—à–∫–∏)',
                    prices: ['374 000‚ÇΩ', '574 000‚ÇΩ', '724 000‚ÇΩ', '850 000‚ÇΩ', '1 125 000‚ÇΩ', '1 450 000‚ÇΩ']
                }
            ]
        }
    },
    
    faq: {
        title: '–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã',
        questions: [
            {
                question: '–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –±–∞–Ω–∏ –ø–æ–¥ –∫–ª—é—á?',
                answer: '–°—Ä–æ–∫ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∞–Ω—è 3√ó3 –º —Å—Ç—Ä–æ–∏—Ç—Å—è –∑–∞ 3-5 –¥–Ω–µ–π, –±–∞–Ω—è 6√ó4 –º - –∑–∞ 10-14 –¥–Ω–µ–π. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –æ–ø—ã—Ç–Ω—ã–µ –±—Ä–∏–≥–∞–¥—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å—Ä–æ–∫–∏.'
            },
            {
                question: '–ö–∞–∫–æ–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –Ω—É–∂–µ–Ω –¥–ª—è –±–∞–Ω–∏?',
                answer: '–î–ª—è –±–∞–Ω—å –∏–∑ –±—Ä—É—Å–∞ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–≤–∞–π–Ω–æ-–≤–∏–Ω—Ç–æ–≤–æ–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∏–ª–∏ –±–µ—Ç–æ–Ω–Ω—ã–µ –±–ª–æ–∫–∏. –°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –æ—Ç 42 000 —Ä—É–±–ª–µ–π –∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ, –∏—Å—Ö–æ–¥—è –∏–∑ –≥—Ä—É–Ω—Ç–∞ –Ω–∞ –≤–∞—à–µ–º —É—á–∞—Å—Ç–∫–µ.'
            },
            {
                question: '–î–∞–µ—Ç–µ –ª–∏ –≤—ã –≥–∞—Ä–∞–Ω—Ç–∏—é –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ?',
                answer: '–î–∞, –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –≥–∞—Ä–∞–Ω—Ç–∏—é 5 –ª–µ—Ç –Ω–∞ –≤—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã. –≠—Ç–æ —Å–∞–º–∞—è –¥–ª–∏–Ω–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è –Ω–∞ —Ä—ã–Ω–∫–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –±–∞–Ω—å –≤ –°–∞–º–∞—Ä–µ.'
            },
            {
                question: '–ú–æ–∂–Ω–æ –ª–∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –±–∞–Ω—é –∑–∏–º–æ–π?',
                answer: '–î–∞, —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω–æ –∫—Ä—É–≥–ª—ã–π –≥–æ–¥. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –∑–∏–º–æ–π —á–∞—Å—Ç–æ –¥–µ–π—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Å–∫–∏–¥–∫–∏ –¥–æ 15%.'
            },
            {
                question: '–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å "–ø–æ–¥ –∫–ª—é—á"?',
                answer: '–í —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Ö–æ–¥–∏—Ç: –¥–æ—Å—Ç–∞–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–æ —É—á–∞—Å—Ç–∫–∞, —Ä–∞–∑–≥—Ä—É–∑–∫–∞, —Å–±–æ—Ä–∫–∞ —Å—Ä—É–±–∞, –º–æ–Ω—Ç–∞–∂ –∫—Ä–æ–≤–ª–∏, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫–æ–Ω –∏ –¥–≤–µ—Ä–µ–π, –º–æ–Ω—Ç–∞–∂ –ø–µ—á–∏ –∏ –¥—ã–º–æ—Ö–æ–¥–∞, –æ—Ç–¥–µ–ª–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π.'
            }
        ]
    }
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∞–π—Ç–∞
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ HitHaus - –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –±–∞–Ω—å –≤ –°–∞–º–∞—Ä–µ');
    
    initSite();
    setupEventListeners();
    initAnniversaryModal();
    initTracking();
    setupSmoothScroll();
});

// –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
function initSite() {
    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞
    document.getElementById('current-year').textContent = new Date().getFullYear();
    
    // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    document.getElementById('header-phone').textContent = SITE_CONFIG.phone;
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    initProjectsGallery();
    initPriceTable();
    initFAQ();
    initMobileMenu();
    
    console.log('‚úÖ –°–∞–π—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–∞–ª–µ—Ä–µ–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
function initProjectsGallery() {
    const slider = document.getElementById('projects-slider');
    if (!slider) return;
    
    let slidesHTML = '';
    
    SITE_DATA.projects.items.forEach((project, index) => {
        const featuresHTML = project.features.map(feature => 
            `<span class="project-tag">${feature}</span>`
        ).join('');
        
        slidesHTML += `
            <div class="project-slide" data-index="${index}">
                <div class="project-image-container">
                    <i class="fas fa-home"></i>
                    <div class="project-size">${project.features[0]}</div>
                </div>
                <div class="project-info">
                    <h3>${project.title}</h3>
                    <p>${project.description}</p>
                    <div class="project-features">${featuresHTML}</div>
                    <span class="project-badge">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç</span>
                </div>
            </div>
        `;
    });
    
    slider.innerHTML = slidesHTML;
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–∞
    setTimeout(() => {
        initCustomSlider();
    }, 100);
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã —Ü–µ–Ω
function initPriceTable() {
    const table = document.getElementById('turnkey-table');
    if (!table) return;
    
    const data = SITE_DATA.prices.turnkey;
    
    let theadHTML = `<thead><tr><th>–ú–∞—Ç–µ—Ä–∏–∞–ª / –†–∞–∑–º–µ—Ä</th>`;
    data.sizes.forEach(size => theadHTML += `<th>${size}</th>`);
    theadHTML += `</tr></thead>`;
    
    let tbodyHTML = `<tbody>`;
    data.materials.forEach(material => {
        tbodyHTML += `<tr><td>${material.name}</td>`;
        material.prices.forEach(price => {
            tbodyHTML += `<td>${price}</td>`;
        });
        tbodyHTML += `</tr>`;
    });
    tbodyHTML += `</tbody>`;
    
    table.innerHTML = theadHTML + tbodyHTML;
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FAQ
function initFAQ() {
    const container = document.getElementById('faq-list');
    if (!container) return;
    
    let faqHTML = '';
    
    SITE_DATA.faq.questions.forEach((item, index) => {
        faqHTML += `
            <div class="faq-item" data-index="${index}">
                <div class="faq-question">
                    <span>${item.question}</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>${item.answer}</p>
                </div>
            </div>
        `;
    });
    
    container.innerHTML = faqHTML;
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–∞
    initAccordion();
}

// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–ª–∞–π–¥–µ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤
function initCustomSlider() {
    const slider = document.querySelector('.projects-slider');
    if (!slider) return;
    
    let isDown = false;
    let startX;
    let scrollLeft;
    
    slider.addEventListener('mousedown', (e) => {
        isDown = true;
        slider.classList.add('active');
        startX = e.pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
    });
    
    slider.addEventListener('mouseleave', () => {
        isDown = false;
        slider.classList.remove('active');
    });
    
    slider.addEventListener('mouseup', () => {
        isDown = false;
        slider.classList.remove('active');
    });
    
    slider.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - slider.offsetLeft;
        const walk = (x - startX) * 2;
        slider.scrollLeft = scrollLeft - walk;
    });
}

// –ê–∫–∫–æ—Ä–¥–µ–æ–Ω FAQ
function initAccordion() {
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        
        question.addEventListener('click', () => {
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
            faqItems.forEach(otherItem => {
                if (otherItem !== item && otherItem.classList.contains('active')) {
                    otherItem.classList.remove('active');
                }
            });
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π
            item.classList.toggle('active');
        });
    });
    
    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
    if (faqItems.length > 0) {
        faqItems[0].classList.add('active');
    }
}

// –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
function initMobileMenu() {
    const menuBtn = document.getElementById('mobile-menu-btn');
    const menu = document.getElementById('main-nav');
    
    if (!menuBtn || !menu) return;
    
    menuBtn.addEventListener('click', () => {
        menu.classList.toggle('active');
        menuBtn.innerHTML = menu.classList.contains('active') 
            ? '<i class="fas fa-times"></i>' 
            : '<i class="fas fa-bars"></i>';
    });
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            menu.classList.remove('active');
            menuBtn.innerHTML = '<i class="fas fa-bars"></i>';
        });
    });
}

// –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –∞–∫—Ü–∏–∏ "–ù–ê–ú 10 –õ–ï–¢"
function initAnniversaryModal() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —ç—Ç–æ –æ–∫–Ω–æ
    const dontShowAnniversary = localStorage.getItem('dontShowAnniversary');
    if (dontShowAnniversary === 'true') return;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ –ª–∏ —Å–µ–≥–æ–¥–Ω—è
    const lastShown = localStorage.getItem('anniversaryLastShown');
    const today = new Date().toDateString();
    
    if (lastShown === today) return;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
    setTimeout(() => {
        showAnniversaryModal();
        localStorage.setItem('anniversaryLastShown', today);
    }, 2000);
}

function showAnniversaryModal() {
    // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    const modal = document.createElement('div');
    modal.className = 'modal anniversary-modal';
    modal.id = 'anniversary-modal';
    
    modal.innerHTML = `
        <div class="modal-content">
            <button class="modal-close" id="anniversary-close">&times;</button>
            <div class="anniversary-content">
                <div class="anniversary-header">
                    <div class="anniversary-badge">
                        <i class="fas fa-birthday-cake"></i>
                        <span>–Æ–ë–ò–õ–ï–ô–ù–ê–Ø –ê–ö–¶–ò–Ø</span>
                    </div>
                    <h2>–ù–ê–ú 10 –õ–ï–¢!</h2>
                    <p>–í–°–ï–ú –°–ö–ò–î–ö–ê -10% –ù–ê –°–ï–ó–û–ù 2026 –ì–û–î–ê</p>
                </div>
                
                <div class="anniversary-body">
                    <div class="anniversary-image">
                        <div class="anniversary-number">
                            <span class="big-number">10</span>
                            <span class="years">–ª–µ—Ç</span>
                        </div>
                        <div class="anniversary-offer">
                            <span class="discount-big">-10%</span>
                            <span class="season">2026</span>
                        </div>
                    </div>
                    
                    <div class="anniversary-offer-details">
                        <div class="offer-card">
                            <div class="offer-icon">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="offer-text">
                                <h4>–°–∫–∏–¥–∫–∞ 10% –ø–æ–ª—É—á–∏—Ç—å</h4>
                                <p>–ó–∞–∫–ª—é—á–∏—Ç–µ –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ —Å–µ–∑–æ–Ω 2026 –≥–æ–¥–∞, –æ–ø–ª–∞—Ç–∏—Ç–µ 100% –ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ü–µ–Ω–µ.</p>
                            </div>
                        </div>
                        
                        <ul class="anniversary-benefits">
                            <li><i class="fas fa-check-circle"></i> –§–∏–∫—Å–∞—Ü–∏—è —Ü–µ–Ω—ã –Ω–∞ 2026 –≥–æ–¥</li>
                            <li><i class="fas fa-check-circle"></i> –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫–∏–¥–∫–∞ 10%</li>
                            <li><i class="fas fa-check-circle"></i> –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞</li>
                            <li><i class="fas fa-check-circle"></i> –ü–æ–¥–∞—Ä–æ–∫ - –∫–∞–º–Ω–∏ –¥–ª—è –ø–µ—á–∏</li>
                        </ul>
                    </div>
                </div>
                
                <div class="anniversary-footer">
                    <button class="btn btn-accent btn-lg" id="anniversary-action">
                        <i class="fas fa-calendar-check"></i>
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–∫–∏–¥–∫—É –Ω–∞ 2026 –≥–æ–¥
                    </button>
                    
                    <div class="anniversary-timer">
                        <p><i class="fas fa-clock"></i> –ê–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ 31 —è–Ω–≤–∞—Ä—è 2025 –≥–æ–¥–∞</p>
                    </div>
                    
                    <label class="anniversary-dont-show">
                        <input type="checkbox" id="dont-show-anniversary">
                        <span>–ë–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</span>
                    </label>
                </div>
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
    setTimeout(() => {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }, 100);
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    document.getElementById('anniversary-close').addEventListener('click', closeAnniversaryModal);
    document.getElementById('anniversary-action').addEventListener('click', () => {
        showSuccessMessage('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª–∏ —Å–∫–∏–¥–∫—É 10% –Ω–∞ —Å–µ–∑–æ–Ω 2026 –≥–æ–¥–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞.');
        closeAnniversaryModal();
    });
    
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            closeAnniversaryModal();
        }
    });
    
    // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–Ω–æ–≤–∞
    const dontShowCheckbox = document.getElementById('dont-show-anniversary');
    dontShowCheckbox.addEventListener('change', function() {
        if (this.checked) {
            localStorage.setItem('dontShowAnniversary', 'true');
        }
    });
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ ESC
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeAnniversaryModal();
        }
    });
    
    function closeAnniversaryModal() {
        const modal = document.getElementById('anniversary-modal');
        if (!modal) return;
        
        modal.classList.add('closing');
        
        setTimeout(() => {
            modal.classList.remove('active', 'closing');
            document.body.style.overflow = '';
            
            // –£–¥–∞–ª—è–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–∑ DOM
            setTimeout(() => {
                if (modal.parentNode) {
                    modal.parentNode.removeChild(modal);
                }
            }, 300);
        }, 300);
    }
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
function setupEventListeners() {
    // –§–æ—Ä–º–∞ –ª–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ –≥–µ—Ä–æ–µ
    const leadForm = document.getElementById('lead-form');
    if (leadForm) {
        leadForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
            console.log('üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏:', data);
            
            // –ü–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ
            showSuccessMessage('–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞—è–≤–∫—É! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.');
            
            // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
            this.reset();
        });
    }
    
    // –ö–Ω–æ–ø–∫–∞ –∑–∞–∫–∞–∑–∞ –∑–≤–æ–Ω–∫–∞
    const callbackBtn = document.getElementById('callback-btn');
    if (callbackBtn) {
        callbackBtn.addEventListener('click', showCallbackModal);
    }
    
    // –ö–Ω–æ–ø–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
    document.getElementById('hero-calc-btn')?.addEventListener('click', () => {
        document.getElementById('lead-form').scrollIntoView({ behavior: 'smooth' });
    });
    
    document.getElementById('steps-calc-btn')?.addEventListener('click', () => {
        document.getElementById('lead-form').scrollIntoView({ behavior: 'smooth' });
    });
    
    // –§–æ—Ä–º–∞ –≤ CTA —Å–µ–∫—Ü–∏–∏
    const ctaSubmitBtn = document.getElementById('cta-submit-btn');
    if (ctaSubmitBtn) {
        ctaSubmitBtn.addEventListener('click', function() {
            const name = document.getElementById('cta-name').value.trim();
            const phone = document.getElementById('cta-phone').value.trim();
            const size = document.getElementById('cta-size').value;
            
            if (!name || !phone) {
                showSuccessMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω');
                return;
            }
            
            console.log('üì§ –ó–∞—è–≤–∫–∞ –∏–∑ CTA:', { name, phone, size });
            showSuccessMessage('–û—Ç–ª–∏—á–Ω–æ! –í—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–∫–∏–¥–∫—É 10% –∏ 3 –ø–æ–¥–∞—Ä–∫–∞. –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏.');
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª—è
            document.getElementById('cta-name').value = '';
            document.getElementById('cta-phone').value = '';
            document.getElementById('cta-size').value = '';
        });
    }
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ –ø–æ–ª—è—Ö CTA —Ñ–æ—Ä–º—ã
    const ctaInputs = document.querySelectorAll('.cta-form-input, .cta-form-select');
    ctaInputs.forEach(input => {
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                ctaSubmitBtn.click();
            }
        });
    });
    
    // –§–æ—Ä–º–∞ –≤ —Ñ—É—Ç–µ—Ä–µ
    const footerSubmitBtn = document.getElementById('footer-submit-btn');
    if (footerSubmitBtn) {
        footerSubmitBtn.addEventListener('click', function() {
            const name = document.getElementById('footer-name').value.trim();
            const phone = document.getElementById('footer-phone').value.trim();
            
            if (!name || !phone) {
                showSuccessMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                return;
            }
            
            console.log('üì§ –ó–∞—è–≤–∫–∞ –∏–∑ —Ñ—É—Ç–µ—Ä–∞:', { name, phone });
            showSuccessMessage('–°–ø–∞—Å–∏–±–æ! –ù–∞—à —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏.');
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª—è
            document.getElementById('footer-name').value = '';
            document.getElementById('footer-phone').value = '';
        });
    }
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ –ø–æ–ª—è—Ö —Ñ–æ—Ä–º—ã —Ñ—É—Ç–µ—Ä–∞
    const footerInputs = document.querySelectorAll('.footer-form-input');
    footerInputs.forEach(input => {
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                footerSubmitBtn.click();
            }
        });
    });
}

// –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞
function showCallbackModal() {
    const modal = document.createElement('div');
    modal.className = 'modal callback-modal';
    modal.id = 'callback-modal';
    
    modal.innerHTML = `
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <div class="modal-header">
                <h3><i class="fas fa-phone-volume"></i> –ó–∞–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</h3>
                <p>–ú—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç</p>
            </div>
            
            <form class="callback-form">
                <div class="form-group">
                    <input type="text" placeholder="–í–∞—à–µ –∏–º—è" required>
                    <i class="fas fa-user"></i>
                </div>
                
                <div class="form-group">
                    <input type="tel" placeholder="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω" required>
                    <i class="fas fa-phone"></i>
                </div>
                
                <div class="form-group">
                    <select>
                        <option value="">–£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–≤–æ–Ω–∫–∞</option>
                        <option value="now">–°–µ–π—á–∞—Å</option>
                        <option value="9-12">9:00 - 12:00</option>
                        <option value="12-15">12:00 - 15:00</option>
                        <option value="15-18">15:00 - 18:00</option>
                        <option value="18-21">18:00 - 21:00</option>
                    </select>
                    <i class="fas fa-clock"></i>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-bell"></i>
                    –ñ–¥—É –∑–≤–æ–Ω–∫–∞
                </button>
                
                <div class="form-footer">
                    <p><i class="fas fa-shield-alt"></i> –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞</p>
                </div>
            </form>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // –ê–Ω–∏–º–∞—Ü–∏—è
    setTimeout(() => modal.classList.add('active'), 100);
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    const closeBtn = modal.querySelector('.modal-close');
    closeBtn.addEventListener('click', () => closeModal(modal));
    
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal(modal);
    });
    
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeModal(modal);
        }
    });
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã
    const form = modal.querySelector('.callback-form');
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        showSuccessMessage('–°–ø–∞—Å–∏–±–æ! –ú—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.');
        closeModal(modal);
    });
}

function closeModal(modal) {
    modal.classList.remove('active');
    setTimeout(() => {
        if (modal.parentNode) {
            modal.parentNode.removeChild(modal);
        }
    }, 300);
}

// –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
function showSuccessMessage(text) {
    const message = document.createElement('div');
    message.className = 'success-message';
    message.innerHTML = `
        <div class="message-content">
            <i class="fas fa-check-circle"></i>
            <p>${text}</p>
        </div>
    `;
    
    document.body.appendChild(message);
    
    setTimeout(() => {
        message.classList.add('show');
    }, 100);
    
    setTimeout(() => {
        message.classList.remove('show');
        setTimeout(() => {
            if (message.parentNode) {
                message.parentNode.removeChild(message);
            }
        }, 300);
    }, 5000);
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–∏–Ω–≥–∞
function initTracking() {
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
    document.querySelectorAll('a[href^="tel:"]').forEach(link => {
        link.addEventListener('click', function() {
            console.log('üìû –ö–ª–∏–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É:', this.href);
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫—É –∏–ª–∏ Google Analytics
        });
    });
    
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º
    document.querySelectorAll('form').forEach(form => {
        form.addEventListener('submit', function() {
            console.log('üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã:', this.id || 'unnamed');
        });
    });
}

// –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –¥–ª—è —è–∫–æ—Ä–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
function setupSmoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        });
    });
}

console.log('‚ú® HitHaus –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!');